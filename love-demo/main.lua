-- require and immediately call the constructor
local gestures = require('gestures').new()

-- populate gesture list
gestures:add('squiggly', {{-0.47, 0.41}, {-0.48, 0.34}, {-0.48, 0.28}, {-0.49, 0.21}, {-0.49, 0.14}, {-0.48, 0.08}, {-0.48, 0.01}, {-0.47, -0.05}, {-0.46, -0.12}, {-0.45, -0.18}, {-0.43, -0.25}, {-0.41, -0.31}, {-0.38, -0.37}, {-0.33, -0.41}, {-0.28, -0.40}, {-0.23, -0.35}, {-0.20, -0.29}, {-0.18, -0.23}, {-0.18, -0.16}, {-0.18, -0.10}, {-0.18, -0.03}, {-0.18, 0.03}, {-0.18, 0.10}, {-0.17, 0.17}, {-0.16, 0.23}, {-0.16, 0.30}, {-0.14, 0.36}, {-0.12, 0.42}, {-0.08, 0.47}, {-0.02, 0.50}, {0.04, 0.48}, {0.08, 0.43}, {0.11, 0.38}, {0.13, 0.31}, {0.13, 0.25}, {0.13, 0.18}, {0.13, 0.11}, {0.12, 0.05}, {0.12, -0.02}, {0.12, -0.09}, {0.11, -0.15}, {0.10, -0.22}, {0.10, -0.28}, {0.10, -0.35}, {0.11, -0.41}, {0.15, -0.47}, {0.20, -0.50}, {0.27, -0.50}, {0.32, -0.47}, {0.36, -0.41}, {0.39, -0.36}, {0.41, -0.29}, {0.42, -0.23}, {0.42, -0.16}, {0.41, -0.10}, {0.41, -0.03}, {0.41, 0.03}, {0.42, 0.10}, {0.43, 0.16}, {0.43, 0.23}, {0.43, 0.30}, {0.46, 0.35}, {0.48, 0.42}, {0.49, 0.47}})
gestures:add('heart', {{0.03, -0.10}, {0.03, -0.15}, {0.01, -0.20}, {-0.01, -0.24}, {-0.05, -0.28}, {-0.09, -0.30}, {-0.14, -0.31}, {-0.19, -0.32}, {-0.24, -0.32}, {-0.30, -0.32}, {-0.34, -0.30}, {-0.38, -0.27}, {-0.42, -0.24}, {-0.46, -0.20}, {-0.49, -0.16}, {-0.49, -0.11}, {-0.49, -0.06}, {-0.46, -0.01}, {-0.44, 0.03}, {-0.41, 0.07}, {-0.38, 0.11}, {-0.34, 0.15}, {-0.31, 0.19}, {-0.27, 0.22}, {-0.23, 0.25}, {-0.19, 0.29}, {-0.16, 0.32}, {-0.12, 0.36}, {-0.10, 0.40}, {-0.07, 0.45}, {-0.05, 0.49}, {-0.03, 0.54}, {-0.03, 0.59}, {-0.01, 0.56}, {0.01, 0.51}, {0.03, 0.46}, {0.05, 0.42}, {0.08, 0.38}, {0.11, 0.34}, {0.15, 0.30}, {0.18, 0.26}, {0.21, 0.22}, {0.24, 0.18}, {0.27, 0.14}, {0.30, 0.10}, {0.33, 0.06}, {0.37, 0.02}, {0.39, -0.02}, {0.42, -0.06}, {0.44, -0.11}, {0.46, -0.16}, {0.47, -0.21}, {0.46, -0.26}, {0.44, -0.30}, {0.41, -0.34}, {0.37, -0.38}, {0.33, -0.40}, {0.28, -0.41}, {0.23, -0.39}, {0.19, -0.37}, {0.15, -0.34}, {0.12, -0.30}, {0.09, -0.26}, {0.07, -0.22}})
gestures:add('phi', {{0.08, 0.58}, {0.06, 0.53}, {0.05, 0.48}, {0.05, 0.43}, {0.05, 0.38}, {0.04, 0.33}, {0.04, 0.28}, {0.04, 0.23}, {0.04, 0.18}, {0.03, 0.13}, {0.01, 0.09}, {0.00, 0.04}, {-0.02, -0.01}, {-0.03, -0.06}, {-0.03, -0.11}, {-0.03, -0.16}, {-0.03, -0.21}, {-0.02, -0.25}, {-0.00, -0.30}, {0.02, -0.34}, {0.05, -0.39}, {0.09, -0.41}, {0.14, -0.42}, {0.19, -0.42}, {0.24, -0.41}, {0.28, -0.39}, {0.31, -0.35}, {0.33, -0.31}, {0.34, -0.26}, {0.34, -0.21}, {0.34, -0.16}, {0.34, -0.11}, {0.33, -0.06}, {0.32, -0.01}, {0.31, 0.04}, {0.29, 0.09}, {0.28, 0.13}, {0.25, 0.17}, {0.21, 0.21}, {0.17, 0.23}, {0.13, 0.26}, {0.08, 0.27}, {0.03, 0.29}, {-0.02, 0.29}, {-0.07, 0.29}, {-0.12, 0.29}, {-0.17, 0.27}, {-0.21, 0.26}, {-0.25, 0.23}, {-0.29, 0.19}, {-0.33, 0.16}, {-0.35, 0.12}, {-0.37, 0.07}, {-0.38, 0.02}, {-0.39, -0.03}, {-0.39, -0.08}, {-0.39, -0.13}, {-0.39, -0.18}, {-0.37, -0.23}, {-0.34, -0.27}, {-0.30, -0.30}, {-0.27, -0.33}, {-0.22, -0.35}, {-0.18, -0.37}})
gestures:add('spiral', {{-0.16, 0.06}, {-0.12, 0.02}, {-0.08, -0.02}, {-0.04, -0.05}, {0.01, -0.06}, {0.07, -0.06}, {0.12, -0.04}, {0.17, -0.03}, {0.22, -0.00}, {0.26, 0.03}, {0.29, 0.07}, {0.31, 0.12}, {0.32, 0.18}, {0.33, 0.23}, {0.33, 0.28}, {0.32, 0.34}, {0.29, 0.38}, {0.24, 0.41}, {0.19, 0.43}, {0.14, 0.43}, {0.08, 0.43}, {0.03, 0.43}, {-0.02, 0.42}, {-0.08, 0.40}, {-0.13, 0.38}, {-0.18, 0.37}, {-0.23, 0.35}, {-0.28, 0.33}, {-0.33, 0.30}, {-0.37, 0.27}, {-0.41, 0.23}, {-0.44, 0.19}, {-0.47, 0.14}, {-0.49, 0.09}, {-0.50, 0.04}, {-0.49, -0.01}, {-0.48, -0.07}, {-0.46, -0.12}, {-0.44, -0.17}, {-0.42, -0.22}, {-0.39, -0.26}, {-0.36, -0.31}, {-0.31, -0.34}, {-0.27, -0.37}, {-0.22, -0.40}, {-0.17, -0.42}, {-0.12, -0.44}, {-0.07, -0.44}, {-0.01, -0.44}, {0.04, -0.44}, {0.10, -0.42}, {0.15, -0.40}, {0.20, -0.39}, {0.24, -0.36}, {0.28, -0.31}, {0.31, -0.27}, {0.34, -0.23}, {0.38, -0.19}, {0.41, -0.14}, {0.44, -0.09}, {0.46, -0.04}, {0.47, 0.01}, {0.49, 0.06}, {0.50, 0.11}})
gestures:add('epsilon', {{0.27, -0.56}, {0.24, -0.57}, {0.20, -0.57}, {0.17, -0.57}, {0.13, -0.56}, {0.09, -0.55}, {0.06, -0.54}, {0.02, -0.53}, {-0.01, -0.52}, {-0.05, -0.50}, {-0.08, -0.49}, {-0.12, -0.47}, {-0.15, -0.46}, {-0.18, -0.44}, {-0.21, -0.42}, {-0.23, -0.39}, {-0.23, -0.35}, {-0.23, -0.31}, {-0.23, -0.28}, {-0.21, -0.24}, {-0.19, -0.21}, {-0.17, -0.18}, {-0.15, -0.15}, {-0.13, -0.12}, {-0.10, -0.10}, {-0.07, -0.07}, {-0.04, -0.05}, {-0.01, -0.03}, {0.02, -0.02}, {-0.00, 0.01}, {-0.04, 0.02}, {-0.07, 0.03}, {-0.11, 0.04}, {-0.14, 0.05}, {-0.18, 0.06}, {-0.21, 0.08}, {-0.24, 0.10}, {-0.26, 0.13}, {-0.27, 0.17}, {-0.26, 0.20}, {-0.24, 0.23}, {-0.21, 0.26}, {-0.19, 0.29}, {-0.16, 0.31}, {-0.13, 0.33}, {-0.10, 0.35}, {-0.07, 0.37}, {-0.03, 0.39}, {0.00, 0.40}, {0.04, 0.41}, {0.08, 0.42}, {0.11, 0.43}, {0.15, 0.43}, {0.19, 0.43}, {0.22, 0.43}, {0.26, 0.43}, {0.30, 0.43}, {0.33, 0.43}, {0.37, 0.43}, {0.41, 0.43}, {0.45, 0.43}, {0.48, 0.43}, {0.52, 0.43}, {0.56, 0.43}})
gestures:add('clef', {{-0.06, 0.08}, {-0.04, 0.05}, {-0.01, 0.01}, {0.02, -0.02}, {0.07, -0.03}, {0.11, -0.01}, {0.14, 0.02}, {0.14, 0.06}, {0.14, 0.11}, {0.13, 0.16}, {0.10, 0.19}, {0.06, 0.22}, {0.02, 0.24}, {-0.03, 0.24}, {-0.08, 0.23}, {-0.12, 0.22}, {-0.16, 0.19}, {-0.18, 0.15}, {-0.21, 0.11}, {-0.21, 0.07}, {-0.21, 0.02}, {-0.20, -0.03}, {-0.17, -0.07}, {-0.14, -0.10}, {-0.10, -0.11}, {-0.05, -0.13}, {-0.01, -0.15}, {0.02, -0.18}, {0.05, -0.22}, {0.08, -0.26}, {0.10, -0.30}, {0.11, -0.35}, {0.12, -0.39}, {0.13, -0.44}, {0.13, -0.49}, {0.11, -0.53}, {0.07, -0.53}, {0.04, -0.50}, {0.03, -0.45}, {0.03, -0.41}, {0.03, -0.36}, {0.03, -0.31}, {0.03, -0.26}, {0.03, -0.21}, {0.03, -0.17}, {0.03, -0.12}, {0.03, -0.07}, {0.03, -0.02}, {0.03, 0.02}, {0.03, 0.07}, {0.03, 0.12}, {0.03, 0.17}, {0.03, 0.22}, {0.03, 0.26}, {0.03, 0.31}, {0.03, 0.36}, {0.03, 0.41}, {0.03, 0.45}, {-0.01, 0.47}, {-0.05, 0.45}, {-0.09, 0.43}, {-0.13, 0.41}, {-0.14, 0.37}, {-0.12, 0.34}})
gestures:add('infinity', {{-0.07, 0.09}, {-0.10, 0.11}, {-0.14, 0.13}, {-0.18, 0.15}, {-0.22, 0.17}, {-0.26, 0.19}, {-0.30, 0.20}, {-0.34, 0.21}, {-0.38, 0.22}, {-0.43, 0.22}, {-0.46, 0.19}, {-0.48, 0.16}, {-0.49, 0.11}, {-0.50, 0.07}, {-0.50, 0.03}, {-0.50, -0.02}, {-0.49, -0.06}, {-0.48, -0.10}, {-0.46, -0.14}, {-0.43, -0.18}, {-0.40, -0.20}, {-0.36, -0.21}, {-0.31, -0.21}, {-0.27, -0.21}, {-0.23, -0.19}, {-0.20, -0.16}, {-0.17, -0.13}, {-0.14, -0.10}, {-0.10, -0.08}, {-0.07, -0.05}, {-0.04, -0.02}, {-0.01, 0.01}, {0.02, 0.04}, {0.06, 0.07}, {0.09, 0.09}, {0.13, 0.12}, {0.16, 0.14}, {0.20, 0.16}, {0.24, 0.17}, {0.29, 0.18}, {0.33, 0.18}, {0.37, 0.17}, {0.41, 0.16}, {0.45, 0.13}, {0.47, 0.10}, {0.48, 0.06}, {0.50, 0.02}, {0.50, -0.02}, {0.50, -0.07}, {0.50, -0.11}, {0.49, -0.15}, {0.47, -0.18}, {0.43, -0.19}, {0.39, -0.20}, {0.35, -0.19}, {0.31, -0.18}, {0.27, -0.16}, {0.24, -0.14}, {0.21, -0.12}, {0.18, -0.10}, {0.15, -0.07}, {0.12, -0.05}, {0.09, -0.03}, {0.07, -0.00}})
gestures:add('lightning', {{0.30, -0.54}, {0.28, -0.52}, {0.25, -0.51}, {0.23, -0.48}, {0.21, -0.46}, {0.19, -0.44}, {0.16, -0.42}, {0.14, -0.40}, {0.12, -0.37}, {0.10, -0.35}, {0.08, -0.32}, {0.07, -0.30}, {0.05, -0.27}, {0.03, -0.25}, {0.01, -0.22}, {-0.01, -0.20}, {-0.02, -0.17}, {-0.04, -0.15}, {-0.06, -0.12}, {-0.07, -0.09}, {-0.09, -0.07}, {-0.11, -0.04}, {-0.13, -0.02}, {-0.14, 0.01}, {-0.15, 0.03}, {-0.13, 0.01}, {-0.10, 0.00}, {-0.07, -0.01}, {-0.04, -0.02}, {-0.01, -0.02}, {0.02, -0.03}, {0.05, -0.04}, {0.08, -0.04}, {0.11, -0.05}, {0.14, -0.06}, {0.17, -0.06}, {0.16, -0.04}, {0.14, -0.02}, {0.12, 0.00}, {0.09, 0.03}, {0.07, 0.05}, {0.05, 0.07}, {0.03, 0.10}, {0.01, 0.12}, {-0.00, 0.14}, {-0.02, 0.17}, {-0.04, 0.20}, {-0.06, 0.22}, {-0.07, 0.25}, {-0.09, 0.27}, {-0.11, 0.30}, {-0.12, 0.33}, {-0.14, 0.35}, {-0.15, 0.38}, {-0.17, 0.41}, {-0.18, 0.43}, {-0.20, 0.46}, {-0.20, 0.46}, {-0.18, 0.44}, {-0.16, 0.41}, {-0.13, 0.39}, {-0.11, 0.38}, {-0.08, 0.36}, {-0.06, 0.34}})
gestures:add('ae', {{-0.47, -0.08}, {-0.45, -0.14}, {-0.43, -0.21}, {-0.40, -0.27}, {-0.37, -0.33}, {-0.31, -0.37}, {-0.25, -0.37}, {-0.18, -0.35}, {-0.13, -0.31}, {-0.08, -0.26}, {-0.04, -0.21}, {-0.02, -0.14}, {-0.00, -0.08}, {0.00, -0.01}, {0.01, 0.06}, {0.01, 0.13}, {-0.01, 0.19}, {-0.03, 0.26}, {-0.06, 0.32}, {-0.10, 0.37}, {-0.16, 0.39}, {-0.23, 0.38}, {-0.29, 0.35}, {-0.34, 0.30}, {-0.37, 0.24}, {-0.37, 0.17}, {-0.34, 0.11}, {-0.29, 0.07}, {-0.23, 0.03}, {-0.17, -0.01}, {-0.11, -0.02}, {-0.04, -0.02}, {0.03, -0.00}, {0.09, 0.02}, {0.15, 0.04}, {0.22, 0.05}, {0.29, 0.04}, {0.34, 0.00}, {0.37, -0.06}, {0.39, -0.12}, {0.39, -0.19}, {0.37, -0.26}, {0.34, -0.32}, {0.28, -0.35}, {0.22, -0.37}, {0.15, -0.37}, {0.09, -0.34}, {0.04, -0.30}, {0.00, -0.24}, {-0.02, -0.18}, {-0.04, -0.11}, {-0.04, -0.05}, {-0.04, 0.02}, {-0.02, 0.09}, {0.01, 0.15}, {0.06, 0.20}, {0.11, 0.25}, {0.16, 0.28}, {0.22, 0.31}, {0.29, 0.34}, {0.35, 0.35}, {0.42, 0.35}, {0.49, 0.32}, {0.53, 0.27}})
gestures:add('fish', {{0.48, 0.16}, {0.47, 0.12}, {0.46, 0.08}, {0.46, 0.04}, {0.46, -0.00}, {0.46, -0.05}, {0.47, -0.09}, {0.47, -0.13}, {0.44, -0.12}, {0.41, -0.09}, {0.37, -0.07}, {0.34, -0.04}, {0.31, -0.01}, {0.28, 0.01}, {0.24, 0.03}, {0.20, 0.05}, {0.16, 0.07}, {0.13, 0.09}, {0.09, 0.11}, {0.05, 0.12}, {0.01, 0.14}, {-0.03, 0.15}, {-0.07, 0.15}, {-0.11, 0.16}, {-0.15, 0.17}, {-0.20, 0.17}, {-0.24, 0.18}, {-0.28, 0.18}, {-0.32, 0.18}, {-0.36, 0.17}, {-0.40, 0.16}, {-0.44, 0.13}, {-0.46, 0.10}, {-0.49, 0.07}, {-0.50, 0.03}, {-0.52, -0.01}, {-0.52, -0.05}, {-0.51, -0.09}, {-0.49, -0.13}, {-0.47, -0.16}, {-0.44, -0.19}, {-0.40, -0.21}, {-0.36, -0.23}, {-0.32, -0.23}, {-0.28, -0.23}, {-0.24, -0.23}, {-0.19, -0.22}, {-0.16, -0.21}, {-0.12, -0.19}, {-0.08, -0.17}, {-0.05, -0.15}, {-0.01, -0.12}, {0.02, -0.10}, {0.05, -0.07}, {0.09, -0.05}, {0.12, -0.02}, {0.15, 0.00}, {0.19, 0.03}, {0.22, 0.06}, {0.25, 0.08}, {0.29, 0.10}, {0.32, 0.12}, {0.36, 0.13}, {0.40, 0.14}})
gestures:add('1', {{-0.17, 0.08}, {-0.16, 0.06}, {-0.15, 0.03}, {-0.14, 0.01}, {-0.12, -0.01}, {-0.11, -0.03}, {-0.10, -0.05}, {-0.09, -0.07}, {-0.07, -0.10}, {-0.06, -0.12}, {-0.05, -0.14}, {-0.04, -0.16}, {-0.03, -0.19}, {-0.02, -0.21}, {-0.00, -0.23}, {0.01, -0.25}, {0.02, -0.28}, {0.03, -0.30}, {0.04, -0.32}, {0.06, -0.34}, {0.07, -0.36}, {0.08, -0.38}, {0.09, -0.41}, {0.10, -0.40}, {0.09, -0.38}, {0.09, -0.36}, {0.08, -0.33}, {0.07, -0.31}, {0.06, -0.28}, {0.06, -0.26}, {0.05, -0.23}, {0.05, -0.21}, {0.04, -0.18}, {0.04, -0.16}, {0.04, -0.13}, {0.03, -0.11}, {0.03, -0.08}, {0.02, -0.06}, {0.02, -0.03}, {0.02, -0.01}, {0.02, 0.02}, {0.01, 0.04}, {0.01, 0.07}, {0.01, 0.09}, {0.01, 0.12}, {0.00, 0.14}, {0.00, 0.17}, {0.00, 0.19}, {-0.00, 0.22}, {-0.00, 0.24}, {-0.00, 0.27}, {-0.00, 0.29}, {-0.00, 0.32}, {-0.00, 0.34}, {-0.00, 0.37}, {-0.00, 0.39}, {-0.00, 0.42}, {-0.00, 0.44}, {-0.00, 0.47}, {-0.00, 0.49}, {-0.00, 0.52}, {0.00, 0.54}, {0.00, 0.57}, {0.01, 0.59}})
gestures:add('2', {{-0.30, -0.29}, {-0.31, -0.32}, {-0.29, -0.36}, {-0.28, -0.39}, {-0.26, -0.42}, {-0.24, -0.44}, {-0.22, -0.47}, {-0.19, -0.49}, {-0.16, -0.51}, {-0.13, -0.52}, {-0.09, -0.53}, {-0.06, -0.53}, {-0.03, -0.53}, {0.01, -0.53}, {0.04, -0.53}, {0.07, -0.51}, {0.09, -0.48}, {0.11, -0.45}, {0.12, -0.42}, {0.13, -0.38}, {0.13, -0.35}, {0.13, -0.32}, {0.13, -0.28}, {0.12, -0.25}, {0.12, -0.21}, {0.11, -0.18}, {0.10, -0.15}, {0.09, -0.11}, {0.07, -0.08}, {0.06, -0.05}, {0.05, -0.02}, {0.04, 0.01}, {0.02, 0.05}, {0.01, 0.08}, {-0.01, 0.11}, {-0.02, 0.14}, {-0.03, 0.17}, {-0.05, 0.20}, {-0.06, 0.24}, {-0.08, 0.27}, {-0.09, 0.30}, {-0.11, 0.33}, {-0.12, 0.36}, {-0.14, 0.39}, {-0.16, 0.42}, {-0.19, 0.44}, {-0.18, 0.44}, {-0.15, 0.43}, {-0.12, 0.42}, {-0.08, 0.41}, {-0.05, 0.41}, {-0.01, 0.40}, {0.02, 0.39}, {0.05, 0.39}, {0.09, 0.39}, {0.12, 0.40}, {0.16, 0.41}, {0.19, 0.41}, {0.22, 0.42}, {0.26, 0.44}, {0.29, 0.45}, {0.32, 0.46}, {0.35, 0.47}, {0.39, 0.47}})
gestures:add('3', {{-0.29, -0.34}, {-0.29, -0.37}, {-0.27, -0.39}, {-0.25, -0.42}, {-0.22, -0.44}, {-0.19, -0.46}, {-0.16, -0.47}, {-0.13, -0.49}, {-0.10, -0.50}, {-0.07, -0.51}, {-0.04, -0.51}, {-0.00, -0.51}, {0.03, -0.51}, {0.06, -0.50}, {0.09, -0.48}, {0.11, -0.46}, {0.12, -0.43}, {0.12, -0.40}, {0.12, -0.36}, {0.12, -0.33}, {0.12, -0.29}, {0.12, -0.26}, {0.11, -0.23}, {0.11, -0.20}, {0.10, -0.16}, {0.09, -0.13}, {0.07, -0.10}, {0.06, -0.07}, {0.04, -0.04}, {0.02, -0.01}, {0.00, 0.01}, {-0.02, 0.03}, {-0.05, 0.05}, {-0.02, 0.07}, {0.01, 0.08}, {0.04, 0.09}, {0.08, 0.10}, {0.11, 0.12}, {0.14, 0.13}, {0.16, 0.15}, {0.19, 0.17}, {0.21, 0.20}, {0.21, 0.23}, {0.21, 0.26}, {0.21, 0.30}, {0.19, 0.33}, {0.17, 0.36}, {0.15, 0.38}, {0.13, 0.41}, {0.10, 0.43}, {0.08, 0.45}, {0.05, 0.46}, {0.01, 0.47}, {-0.02, 0.48}, {-0.05, 0.49}, {-0.08, 0.49}, {-0.12, 0.49}, {-0.15, 0.48}, {-0.18, 0.48}, {-0.22, 0.47}, {-0.25, 0.46}, {-0.28, 0.45}, {-0.31, 0.43}, {-0.34, 0.42}})
gestures:add('4', {{0.05, -0.50}, {0.04, -0.49}, {0.02, -0.48}, {0.01, -0.45}, {-0.00, -0.43}, {-0.01, -0.41}, {-0.02, -0.39}, {-0.03, -0.37}, {-0.04, -0.35}, {-0.05, -0.32}, {-0.06, -0.30}, {-0.06, -0.28}, {-0.07, -0.26}, {-0.08, -0.23}, {-0.09, -0.21}, {-0.09, -0.19}, {-0.10, -0.16}, {-0.11, -0.14}, {-0.11, -0.12}, {-0.12, -0.10}, {-0.13, -0.07}, {-0.14, -0.05}, {-0.15, -0.03}, {-0.16, -0.01}, {-0.17, 0.01}, {-0.18, 0.03}, {-0.19, 0.05}, {-0.21, 0.07}, {-0.20, 0.07}, {-0.18, 0.06}, {-0.16, 0.05}, {-0.13, 0.05}, {-0.11, 0.04}, {-0.09, 0.04}, {-0.06, 0.03}, {-0.04, 0.03}, {-0.02, 0.03}, {0.01, 0.03}, {0.03, 0.03}, {0.05, 0.03}, {0.08, 0.04}, {0.10, 0.04}, {0.13, 0.05}, {0.15, 0.05}, {0.17, 0.05}, {0.16, 0.08}, {0.15, 0.10}, {0.15, 0.12}, {0.14, 0.15}, {0.14, 0.17}, {0.13, 0.19}, {0.13, 0.22}, {0.13, 0.24}, {0.12, 0.26}, {0.12, 0.29}, {0.12, 0.31}, {0.12, 0.33}, {0.12, 0.36}, {0.12, 0.38}, {0.13, 0.41}, {0.13, 0.43}, {0.13, 0.45}, {0.14, 0.47}, {0.14, 0.50}})
gestures:add('5', {{0.21, -0.50}, {0.17, -0.48}, {0.13, -0.45}, {0.08, -0.44}, {0.04, -0.43}, {-0.01, -0.42}, {-0.05, -0.42}, {-0.10, -0.42}, {-0.15, -0.42}, {-0.19, -0.42}, {-0.24, -0.42}, {-0.28, -0.43}, {-0.33, -0.44}, {-0.37, -0.46}, {-0.39, -0.43}, {-0.39, -0.38}, {-0.38, -0.34}, {-0.37, -0.29}, {-0.37, -0.25}, {-0.36, -0.20}, {-0.36, -0.15}, {-0.35, -0.11}, {-0.35, -0.06}, {-0.35, -0.02}, {-0.34, 0.01}, {-0.30, -0.01}, {-0.26, -0.04}, {-0.22, -0.06}, {-0.17, -0.07}, {-0.13, -0.07}, {-0.08, -0.07}, {-0.03, -0.07}, {0.01, -0.06}, {0.06, -0.05}, {0.10, -0.04}, {0.15, -0.02}, {0.19, -0.02}, {0.23, 0.00}, {0.27, 0.02}, {0.32, 0.04}, {0.36, 0.07}, {0.39, 0.09}, {0.43, 0.12}, {0.46, 0.16}, {0.47, 0.20}, {0.47, 0.25}, {0.46, 0.29}, {0.44, 0.33}, {0.40, 0.36}, {0.37, 0.40}, {0.33, 0.42}, {0.29, 0.45}, {0.25, 0.47}, {0.21, 0.49}, {0.17, 0.50}, {0.12, 0.50}, {0.07, 0.50}, {0.03, 0.50}, {-0.02, 0.50}, {-0.06, 0.48}, {-0.11, 0.47}, {-0.15, 0.46}, {-0.19, 0.44}, {-0.23, 0.41}})
gestures:add('6', {{0.35, -0.52}, {0.32, -0.55}, {0.28, -0.56}, {0.24, -0.56}, {0.20, -0.56}, {0.16, -0.55}, {0.12, -0.53}, {0.09, -0.52}, {0.05, -0.50}, {0.01, -0.48}, {-0.02, -0.46}, {-0.06, -0.44}, {-0.09, -0.42}, {-0.12, -0.39}, {-0.15, -0.36}, {-0.18, -0.33}, {-0.20, -0.30}, {-0.22, -0.26}, {-0.24, -0.22}, {-0.25, -0.18}, {-0.26, -0.14}, {-0.27, -0.10}, {-0.28, -0.06}, {-0.28, -0.02}, {-0.28, 0.02}, {-0.28, 0.06}, {-0.27, 0.10}, {-0.26, 0.14}, {-0.25, 0.18}, {-0.24, 0.22}, {-0.21, 0.26}, {-0.19, 0.29}, {-0.16, 0.32}, {-0.13, 0.34}, {-0.09, 0.37}, {-0.06, 0.39}, {-0.02, 0.41}, {0.02, 0.42}, {0.06, 0.43}, {0.10, 0.44}, {0.14, 0.44}, {0.18, 0.43}, {0.22, 0.41}, {0.25, 0.39}, {0.28, 0.36}, {0.31, 0.33}, {0.33, 0.29}, {0.33, 0.25}, {0.32, 0.21}, {0.30, 0.18}, {0.27, 0.15}, {0.24, 0.12}, {0.20, 0.10}, {0.17, 0.08}, {0.13, 0.07}, {0.09, 0.06}, {0.05, 0.06}, {0.01, 0.06}, {-0.03, 0.07}, {-0.07, 0.08}, {-0.11, 0.10}, {-0.15, 0.11}, {-0.18, 0.13}, {-0.21, 0.16}})
gestures:add('7', {{-0.32, -0.17}, {-0.31, -0.20}, {-0.31, -0.23}, {-0.30, -0.25}, {-0.30, -0.28}, {-0.30, -0.31}, {-0.29, -0.33}, {-0.26, -0.33}, {-0.23, -0.33}, {-0.20, -0.33}, {-0.18, -0.33}, {-0.15, -0.32}, {-0.12, -0.32}, {-0.09, -0.32}, {-0.07, -0.32}, {-0.04, -0.32}, {-0.01, -0.32}, {0.02, -0.31}, {0.04, -0.31}, {0.07, -0.30}, {0.10, -0.30}, {0.12, -0.29}, {0.15, -0.28}, {0.18, -0.27}, {0.20, -0.26}, {0.23, -0.26}, {0.25, -0.27}, {0.25, -0.25}, {0.24, -0.22}, {0.23, -0.20}, {0.22, -0.17}, {0.21, -0.15}, {0.19, -0.12}, {0.18, -0.10}, {0.17, -0.07}, {0.16, -0.05}, {0.15, -0.02}, {0.14, 0.01}, {0.13, 0.03}, {0.12, 0.06}, {0.10, 0.08}, {0.09, 0.11}, {0.08, 0.13}, {0.07, 0.16}, {0.06, 0.18}, {0.05, 0.21}, {0.04, 0.24}, {0.03, 0.26}, {0.02, 0.29}, {0.01, 0.31}, {-0.00, 0.34}, {-0.01, 0.36}, {-0.02, 0.39}, {-0.03, 0.42}, {-0.04, 0.44}, {-0.05, 0.47}, {-0.06, 0.49}, {-0.07, 0.52}, {-0.08, 0.55}, {-0.08, 0.57}, {-0.09, 0.60}, {-0.10, 0.63}, {-0.11, 0.65}, {-0.12, 0.67}})
gestures:add('8', {{0.02, -0.13}, {0.04, -0.17}, {0.07, -0.20}, {0.10, -0.23}, {0.12, -0.26}, {0.15, -0.30}, {0.16, -0.34}, {0.16, -0.38}, {0.15, -0.42}, {0.13, -0.46}, {0.10, -0.49}, {0.06, -0.51}, {0.03, -0.52}, {-0.02, -0.53}, {-0.06, -0.52}, {-0.10, -0.51}, {-0.13, -0.48}, {-0.16, -0.45}, {-0.18, -0.41}, {-0.19, -0.37}, {-0.19, -0.33}, {-0.18, -0.29}, {-0.16, -0.25}, {-0.15, -0.21}, {-0.12, -0.17}, {-0.09, -0.14}, {-0.06, -0.11}, {-0.03, -0.08}, {-0.01, -0.05}, {0.03, -0.02}, {0.06, 0.01}, {0.09, 0.03}, {0.12, 0.06}, {0.15, 0.10}, {0.17, 0.13}, {0.20, 0.16}, {0.23, 0.19}, {0.26, 0.23}, {0.28, 0.26}, {0.29, 0.30}, {0.29, 0.35}, {0.27, 0.38}, {0.24, 0.41}, {0.21, 0.44}, {0.17, 0.45}, {0.13, 0.47}, {0.08, 0.47}, {0.04, 0.47}, {-0.00, 0.47}, {-0.04, 0.46}, {-0.08, 0.45}, {-0.12, 0.43}, {-0.16, 0.41}, {-0.20, 0.39}, {-0.23, 0.36}, {-0.25, 0.32}, {-0.25, 0.28}, {-0.25, 0.24}, {-0.24, 0.19}, {-0.23, 0.15}, {-0.21, 0.11}, {-0.20, 0.07}, {-0.17, 0.04}, {-0.15, 0.01}})
gestures:add('9', {{-0.34, 0.32}, {-0.30, 0.34}, {-0.26, 0.36}, {-0.22, 0.38}, {-0.18, 0.41}, {-0.14, 0.43}, {-0.11, 0.46}, {-0.07, 0.48}, {-0.03, 0.50}, {0.02, 0.51}, {0.06, 0.51}, {0.11, 0.51}, {0.15, 0.49}, {0.19, 0.47}, {0.22, 0.44}, {0.25, 0.40}, {0.28, 0.36}, {0.30, 0.33}, {0.32, 0.28}, {0.33, 0.24}, {0.34, 0.20}, {0.34, 0.15}, {0.34, 0.11}, {0.33, 0.06}, {0.32, 0.02}, {0.30, -0.02}, {0.29, -0.06}, {0.26, -0.10}, {0.24, -0.14}, {0.22, -0.18}, {0.20, -0.22}, {0.17, -0.26}, {0.15, -0.30}, {0.12, -0.34}, {0.09, -0.37}, {0.06, -0.40}, {0.03, -0.43}, {-0.01, -0.46}, {-0.05, -0.48}, {-0.09, -0.49}, {-0.13, -0.49}, {-0.18, -0.48}, {-0.22, -0.47}, {-0.26, -0.44}, {-0.29, -0.41}, {-0.32, -0.37}, {-0.34, -0.33}, {-0.35, -0.29}, {-0.36, -0.25}, {-0.36, -0.20}, {-0.35, -0.16}, {-0.33, -0.11}, {-0.30, -0.08}, {-0.26, -0.06}, {-0.22, -0.04}, {-0.18, -0.03}, {-0.13, -0.02}, {-0.09, -0.02}, {-0.04, -0.02}, {0.00, -0.02}, {0.05, -0.03}, {0.09, -0.04}, {0.14, -0.04}, {0.18, -0.05}})
gestures:add('0', {{0.22, -0.32}, {0.20, -0.36}, {0.18, -0.38}, {0.14, -0.41}, {0.11, -0.43}, {0.08, -0.45}, {0.05, -0.47}, {0.01, -0.49}, {-0.02, -0.50}, {-0.06, -0.51}, {-0.10, -0.50}, {-0.14, -0.49}, {-0.17, -0.46}, {-0.19, -0.43}, {-0.21, -0.40}, {-0.23, -0.36}, {-0.24, -0.33}, {-0.26, -0.29}, {-0.27, -0.25}, {-0.27, -0.21}, {-0.28, -0.17}, {-0.28, -0.13}, {-0.29, -0.10}, {-0.29, -0.06}, {-0.29, -0.02}, {-0.28, 0.02}, {-0.28, 0.06}, {-0.28, 0.10}, {-0.27, 0.14}, {-0.26, 0.18}, {-0.25, 0.22}, {-0.24, 0.25}, {-0.23, 0.29}, {-0.21, 0.33}, {-0.20, 0.36}, {-0.18, 0.40}, {-0.15, 0.42}, {-0.12, 0.45}, {-0.09, 0.47}, {-0.05, 0.49}, {-0.01, 0.49}, {0.02, 0.49}, {0.06, 0.48}, {0.10, 0.47}, {0.13, 0.44}, {0.16, 0.42}, {0.18, 0.39}, {0.21, 0.35}, {0.23, 0.32}, {0.25, 0.29}, {0.27, 0.26}, {0.29, 0.22}, {0.30, 0.19}, {0.32, 0.15}, {0.32, 0.11}, {0.33, 0.07}, {0.34, 0.03}, {0.34, -0.01}, {0.34, -0.05}, {0.33, -0.08}, {0.33, -0.12}, {0.31, -0.16}, {0.29, -0.19}, {0.27, -0.22}})

local points = {}
local resultstr = ''
local selectedIndex = 1
local saveAsName = ''

love.graphics.setBackgroundColor(0.557, 0.627, 0.569)

local function drawGesture(points, background, foreground)
    love.graphics.setColor(background)
    love.graphics.circle('fill', points[1], points[2], 8)
    love.graphics.circle('fill', points[#points-1], points[#points], 4)
    love.graphics.setLineWidth(8)
    love.graphics.line(points)
    love.graphics.setColor(foreground)
    love.graphics.setLineWidth(5)
    love.graphics.line(points)
    love.graphics.circle('fill', points[1], points[2], 6)
end


function love.draw()
  -- help text
  love.graphics.setColor(0.318, 0.322, 0.384)
  love.graphics.print('Left click to drawing a gesture', 30, 20)
  love.graphics.print('Right click to run recognition each frame', 30, 40)
  love.graphics.print('TAB to cycle trained gestures', 30, 60)
  local caret = love.timer.getTime() % 1 > 0.5 and '_' or ''
  love.graphics.print('Gesture name: ' .. saveAsName .. caret, 30, love.graphics.getHeight() - 100)
  love.graphics.print('ENTER to save under new name', 30, love.graphics.getHeight() - 80)
  love.graphics.print('F5 to export trained gestures', 30, love.graphics.getHeight() - 40)
  love.graphics.setColor(1,1,1)
  love.graphics.print({{0.388, 0.471, 0.490}, 'recognized as ',
                       {0.843, 0.761, 0.639}, resultstr}, 30, 230)
  -- draw selected gesture from collection of trained gestures
  local selected = gestures.templates[selectedIndex]
  if selected then
    local flatten = {}
    for i, v in ipairs(selected.points) do
      table.insert(flatten, 100 + v[1] * 100)
      table.insert(flatten, 150 + v[2] * 100)
    end
    drawGesture(flatten, {0.318, 0.322, 0.384}, {0.388, 0.471, 0.490})
  end
  -- draw user-drawn gesture
  if #points >= 4 then
    drawGesture(points, {0.682, 0.416, 0.278}, {0.792, 0.627, 0.353})
  end
end


local function recognize()
  local name, score, index = gestures:recognize(points)
  resultstr = string.format('%s (%1.2f score)', name, score)
  selectedIndex = index
end


function love.mousepressed(x, y)
  points = {}
  points[#points+1] = x
  points[#points+1] = y
end


function love.mousemoved(x, y)
  if love.mouse.isDown(1) or love.mouse.isDown(2) then
    points[#points+1] = x
    points[#points+1] = y
    if love.mouse.isDown(2) then
      recognize()
    end
  end
end


function love.mousereleased()
  recognize()
end


function love.keypressed(key)
  if key == 'backspace' then
    saveAsName = saveAsName:sub(1, #saveAsName - 1)
  elseif key == 'tab' then
    selectedIndex = 1 + (selectedIndex % #gestures.templates)
  elseif key == 'return' then
    gestures:add(saveAsName, points)
    saveAsName = ''
    recognize()
  elseif key == 'f5' then
    print(gestures:toString())
  end
end


function love.textinput( text )
    saveAsName = saveAsName .. text
end
